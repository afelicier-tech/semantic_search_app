<!DOCTYPE html>
<html>
<head>
    <title>Semantic Search</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-800 flex flex-col items-center p-8">
    <h1 class="text-3xl font-bold mb-6">Semantic Search App</h1>

    <form method="post" action="/search" class="w-full max-w-lg flex gap-2 mb-8">
        <input type="text" name="query" placeholder="Enter your query..." value="{{ query or '' }}"
            class="flex-1 p-2 border border-gray-300 rounded-lg" required>
        <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700">Search</button>
    </form>

    {% if results %}
    <div class="w-full max-w-2xl bg-white shadow-md rounded-lg p-6">
        <h2 class="text-xl font-semibold mb-4">Results for "{{ query }}"</h2>
        <ul>
            {% for result in results %}
                <li class="mb-4 border-b border-gray-200 pb-2">
                    <p class="text-gray-700">{{ result.text }}</p>
                    <p class="text-sm text-gray-500 mt-1">
                        Score: {{ "%.4f"|format(result.score) }} | Retrieval: {{ "%.4f"|format(result.retrieval_score) }}
                    </p>
                </li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}
</body>
</html>
